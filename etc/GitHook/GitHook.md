

- GitHook
- GithubActions

- GitHook >> GithubActions
- ë¡œì»¬ì •ë ¬ >> ì›ê²©ì •ë ¬
- ë¡œì»¬ì •ë ¬ã†ì›ê²©ì •ë ¬ >> ì›ê²©ì •ë ¬

## GitHook
Python-blackFommater
- touch .git/hooks/pre-commit
- #!/bin/bash
  echo "ğŸ“¦ Running black formatter..."  
  black .
- chmod +x .git/hooks/pre-commit  





## Path

/bin/bash
- ```bash
  /bin/bash
  ```
- ```bash
  \bin\bash
  ```
- ```bash
  C:\Program Files\Git\bin\bash
  ```

/
- ```bash
  /
  ```
- ```bash
  \
  ```
- ```bash
  C:\Program Files\Git\
  ```


## Powershell
- Powershell
  - powershell -ExecutionPolicy Bypass -File .\myscript.ps1
  - powershell -ExecutionPolicy Bypass -File .\SortedbyLineDirectory05.ps1
- Git Bash
  - powershell.exe -ExecutionPolicy Bypass -File ./myscript.ps1
  - powershell.exe -ExecutionPolicy Bypass -File ./SortedbyLineDirectory05.ps1
  - powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/etc/SortedbyLineDirectory05.ps1

pre-commit
- #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectory formatter..."  
  powershell.exe -ExecutionPolicy Bypass -File ./etc/SortedbyLineDirectory05.ps1
  powershell.exe -ExecutionPolicy Bypass -File ./etc/SortedbyLineDirectory05.ps1
  powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/etc/SortedbyLineDirectory05.ps1
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectory formatter..."  
  powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/etc/SortedbyLineDirectory05.ps1
  ```


âŒ\
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"  
  powershell.exe -ExecutionPolicy Bypass -File C:\github-nangmanhunter\test\.git\hooks\SortLineDirectoryResure.ps1
  ```
âœ…\\
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"  
  powershell.exe -ExecutionPolicy Bypass -File C:\\github-nangmanhunter\\test\\.git\\hooks\\SortLineDirectoryResure.ps1
  ```
âœ…/  
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"
  powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/.git/hooks/SortLineDirectoryResure.ps1
  ```
âœ…"/"  
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"
  powershell.exe -ExecutionPolicy Bypass -File "C:/github-nangmanhunter/test/.git/hooks/SortLineDirectoryResure.ps1"
  ```  
âœ…"\\"  
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"
  powershell.exe -ExecutionPolicy Bypass -File "C:\\github-nangmanhunter\\test\\.git\\hooks\\SortLineDirectoryResure.ps1"
  ```  

âœ…"\"
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"  
  powershell.exe -ExecutionPolicy Bypass -File "C:\github-nangmanhunter\test\.git\hooks\SortLineDirectoryResure.ps1"
  ```
  - ê²½ë¡œë³µì‚¬
  - Shift+Alt+C
  - "" + ë¶™ì—¬ë„£ê¸°

âŒ"    "
- ```bash
      #!/bin/bash
      echo "ğŸ“¦ Running SortLineDirectoryRecurse"  
      powershell.exe -ExecutionPolicy Bypass -File C:\\github-nangmanhunter\\test\\.git\\hooks\\SortLineDirectoryResure.ps1
  ```



## âœ…ê¶Œí•œë¶€ì—¬

```bash
chmod +x .git/hooks/pre-commit
```
- âŒPowerShell
- âœ…GitBash
ã„´ì´ê²ƒí•´ì¤˜ì•¼ë¨



- íŒŒì¼ì‘ì„±ğŸ‘‰ê¶Œí•œë¶€ì—¬ğŸ‘‰Commit

Hook
- íŒŒì¼ì‘ì„±
- ê¶Œí•œë¶€ì—¬



## íŒŒì¼ì‘ì„±
- echo "echo 'ğŸ› ï¸ pre-commit hook running...'" > .git/hooks/pre-commit  
- echo "echo 'ğŸ› ï¸ pre-commit 
hook running...'" > .git/hooks/pre-commit  
- cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦ Running black formatter..."
black .
EOF

- printf '#!/bin/bash\nblack .\necho "âœ… Done formatting"\n' > .git/hooks/pre-commit
- printf '#!/bin/bash
black .\necho "âœ… Done formatting"\n' > .git/hooks/pre-commit
- printf '#!/bin/bash
black .
echo "âœ… Done formatting"\n' > .git/hooks/pre-commit
- printf '#!/bin/bash
black .
echo "âœ… Done formatting"' > .git/hooks/pre-commit

- printf '#!/bin/bash
black .
echo "âœ… Done formatting"' > .git/hooks/pre-commit


íŒŒì¼ì‘ì„±
- printf '#!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectory formatter..."  
  powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/etc/SortedbyLineDirectory05.ps1

- printf '#!/bin/bash
echo "ğŸ“¦ Running SortLineDirectory formatter..."  
powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/etc/SortedbyLineDirectory05.ps1



- â­• 
cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦ Running SortLineDirectory formatter..."  
powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/test/etc/SortedbyLineDirectory05.ps1
EOF  
ã„´ê²½ë¡œì£¼ì˜.!!!
ã„´powershell -> \
ã„´git-bash   -> /

- âŒ
cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦ Running SortLineDirectory formatter..."  
powershell.exe -ExecutionPolicy Bypass -File C:\github-nangmanhunter\test\etc\SortedbyLineDirectory05.ps1
EOF  
ã„´ê²½ë¡œë°”ê¿”ì¤˜ì•¼í•¨.!!!
ã„´ì•„...
ã„´ì§œì¦ë‚˜ë„¤.
ã„´ê·¸ë ‡ë‹¤ë©´
ã„´ì•„ì‹¸ë¦¬.
ã„´ê²½ë¡œë°›ì•„ë‹¤ê°€
ã„´ë°”ê¿”ì„œ
ã„´ë³€ìˆ˜ë¡œ
ã„´ë„£ëŠ”ì‹ìœ¼ë¡œã„±ã„±.!!!



##
cat
- concatenate
<<
- here document
<< 'EOF'
- EOFë¼ëŠ” í‚¤ì›Œë“œê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€


cat << 'EOF' > .git/hooks/pre-commit
(ì—¬ê¸°ì— ì“¸ ë‚´ìš©ë“¤)
EOF





##
- Git Bash
- touch .git/hooks/pre-commit
- cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦ Running black formatter..."
black .
EOF
- chmod +x .git/hooks/pre-commit


```bash
touch .git/hooks/pre-commit

cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦ Running SortLineDirectory formatter..."  
powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/quote/etc/AutoScript/Sort.ps1
EOF

chmod +x .git/hooks/pre-commit
```


```bash
touch .git/hooks/pre-commit

cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦ Running SortLineDirectory formatter..."  
powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/quote/etc/AutoScript/Sort.ps1
EOF
```


```bash
touch .git/hooks/pre-commit

cat << 'EOF' > .git/hooks/pre-commit
#!/bin/bash
echo "ğŸ“¦Sort"  
powershell.exe -ExecutionPolicy Bypass -File C:/github-nangmanhunter/quote/etc/AutoScript/Sort.ps1

echo "ğŸAdd" 
git add .

echo "Sortâ–¶ï¸Addâ–¶ï¸Commit" 
EOF
```
ã„´í˜¹ì—¬ë‚˜
ã„´ë‚˜ì¤‘ì—ì•ˆë˜ë©´.
ã„´chmod
ã„´ì¶”ê°€ã„±ã„±.



## âŒ\
Linux
- âœ…/
- âŒ\

window
- âœ…/
- âœ…\


##
ls -l .git/hooks/pre-commit
- -rwxr-xr-x â–¶ï¸ ê¶Œí•œìˆìŒ
- -rw-r--r-- â–¶ï¸ ê¶Œí•œì—†ìŒ

ls -l .git/hooks
- -rwxr-xr-x

##
-rwxr-xr-x 1 nangman-hunter 197121 3650  1ì›” 25 00:28 update.sample*

1
í•˜ë“œ ë§í¬ ìˆ˜
ì›ë³¸ë³´í˜¸ìœ„í•´-ë§í¬ê°œë…ë„ì…->í•˜ë“œ.ë§í¬.
->ë‹¤ì–‘í•œ ì ‘ê·¼ê²½ë¡œë¥¼ ì œê³µí•˜ê¸°ìœ„í•œë°©ì‹



## ì´ëª¨ì§€ê¹¨ì§
Encoding
- locale
- UFT-8

Font
ã„´GitBashì—ì„œ
ã„´í°íŠ¸ë‹¤ë¥´ê²Œì„¤ì •í•´ë„
ã„´ì•ˆë¨¹ìŒ.
ã„´ì• ë‹¹ì´ˆ
ã„´ì• ë¬¼ë ˆì´í„°.
ã„´ì–˜ê°€.
MinTTYê¸°ë°˜ì´ë¼ëŠ”ë°.
ã„´ì—¬ê¸°ì„œ
ã„´í°íŠ¸ì œí•œë˜ë‚˜ë´„.!!!
ê·¸ë˜ì„œ
ã„´powershellì€ë˜ë‚˜.
ã„´gitbashëŠ”ì•ˆë¨.!!!
ã„´ì´ê²Œ
ã„´ê³„ì†ì´ìƒí–ˆë˜ê²ƒ.!!!
ğŸ˜˜ -> âŒ
â–¶ï¸ -> â­•
ã„´gitbashì—ì„œ
ã„´ì§€ì›í•˜ë‹¤ë§ìŒ.!!!


GitBash
- âŒ Font


ë°©ë²•.
ã„´ìš°íšŒ.!!!
ã„´powershellì—ì„œ
ã„´GitBashì‚¬ìš©.!!!
ã„´ì‚¬ì‹¤.
ã„´WSLë¡œë˜ë²„ë¦¼.!!!
ã„´ì—„ë°€í•œ
ã„´GitBashì•„ë‹Œ.
ê·¸ëŸ¼ì—ë„
ã„´Linuxí˜•íƒœë¼.
ã„´ì•„ì‹¸ë¦¬
ã„´GitBashì™€
ã„´ë„ˆë¬´ë„ë™ì§€í˜•íƒœë¡œ
ã„´ì‹¹ë‹¤
ã„´ëª…ë ¹ì–´í˜¸í™˜ë¨.!!!
ã„´ì´ê²Œ
ã„´ë„ˆë¬´ì¢‹ìŒ.
ã„´ë„ˆë¬´ê°•ë ¥í•¨.!!!
ã„´ã„±ã„±.!!!
ê¸€ê³ ë³´ë‹ˆ
ã„´WSL
ã„´ì—¬ê¸´ë˜
ã„´ì§€ì›ë˜ë„¤?!

ê²°êµ­
ã„´GitBashë§Œ
ã„´ì•ˆë˜ëŠ”ìƒí™©.
ã„´ê±
ã„´í°íŠ¸ë¯¸ì§€ì›ì´ë¼
ã„´ê·¸ëŸ°ê°€ë´„.
ã„´ã…‡ã„´.

powershell-bash -> WSL -> GitBash
ã„´ìš°ì„ ìˆœìœ„ë¡œì‘ìš©.
ã„´ê·¸ë ‡ê¸°ì—
ã„´WSLì¼œì§.!!!

ê²°êµ­
ã„´í°íŠ¸.


- â­• PowerShell
- â­• WSL
- âŒ GitBash

ê·¸ë ‡ê¸°ì—
ã„´ìš°íšŒ.
ã„´ã„±ã„±.

PowerShell -> â­•WSL
PowerShell -> âŒGitBash


PowerShell -> bash -> WSL



## GitHookì¢…ë¥˜
- pre-commit      â–¶ï¸ì»¤ë°‹ ì§ì „ì— ì‹¤í–‰ë¨. ì½”ë“œ í¬ë§· ê²€ì‚¬, í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë“±
- commit-msg      â–¶ï¸ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•œ í›„, ì»¤ë°‹ í™•ì • ì „ ì‹¤í–‰ë¨. ë©”ì‹œì§€ í˜•ì‹ ê²€ì‚¬ ë“±ì— ì‚¬ìš©
- pre-push        â–¶ï¸git push` í•˜ê¸° ì§ì „ì— ì‹¤í–‰. í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ í‘¸ì‹œ ë§‰ê¸° ê°€ëŠ¥
- pre-merge-commitâ–¶ï¸ë³‘í•© ì§ì „ì— ì‹¤í–‰                            
- post-commit     â–¶ï¸ì»¤ë°‹ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰                         
- post-merge      â–¶ï¸ë³‘í•©ì´ ëë‚œ ë’¤ ì‹¤í–‰


íƒì¼
- âœ…pre-commit


## âŒ.sample
```
.git/hooks/
â”œâ”€â”€ pre-commit.sample
â”œâ”€â”€ commit-msg.sample
â””â”€â”€ pre-push.sample
```
- .git/hooks/
- .sample` í™•ì¥ì
- .sampleì§€ìš°ê³ ìˆ˜ì •í•˜ë©´ ì‹¤ì œë™ì‘


## âŒGitHub
GitHub
- âŒ.git/hooks/
- âœ….githooks/

.git/hooks/ ë””ë ‰í† ë¦¬ëŠ” Git ì €ì¥ì†Œ ë‚´ë¶€ì˜ ì„¤ì • ë””ë ‰í† ë¦¬(.git)ì— í¬í•¨ëœ ë¡œì»¬ ì „ìš© ì„¤ì • ì˜ì—­
* ì´ ë””ë ‰í† ë¦¬ëŠ” **Gitì´ ìë™ìœ¼ë¡œ ìƒì„±**í•˜ëŠ” ê²ƒ
* Gitì€ `.git/` í´ë” ìì²´ë¥¼ **ë²„ì „ ê´€ë¦¬ ëŒ€ìƒì—ì„œ ì œì™¸**í•¨
ê·¸ë˜ì„œ ê·¸ ì•ˆì˜ íŒŒì¼ë“¤ì¸ `pre-commit`, `post-commit` ë“±ë„ ì»¤ë°‹ë˜ì§€ ì•Šì•„.

.git/hooks/ ëŒ€ì‹  .githooks/ ì•„ë˜ íŒŒì¼ì„ ì‹¤í–‰

`.git/hooks/` ì•ˆì— ìˆëŠ” hook ìŠ¤í¬ë¦½íŠ¸ë“¤ì€ ê¸°ë³¸ì ìœ¼ë¡œ Gitì— ì»¤ë°‹ë˜ì§€ ì•Šì•„


## ì¶œë ¥ìœ„ì¹˜
- âœ…ì¶œë ¥
- âŒí„°ë¯¸ë„


í„°ë¯¸ë„ vs ì¶œë ¥
- í„°ë¯¸ë„: ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì§ì ‘ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œ ê²°ê³¼ê°€ ì¶œë ¥ë¨.
- ì¶œë ¥: Visual Studio Code ê°™ì€ ì—ë””í„°ì—ì„œ í™•ì¥ ê¸°ëŠ¥, Git, í›… ë“± ë‚´ë¶€ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰í•œ ë¡œê·¸ê°€ ë‚˜ì˜´.

ì™œ pre-commit í›…ì˜ ê²°ê³¼ê°€ í„°ë¯¸ë„ì´ ì•„ë‹Œ ì¶œë ¥ì— í‘œì‹œë ê¹Œ?
- pre-commit í›…ì€ Git ë‚´ë¶€ì—ì„œ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ì²˜ëŸ¼ ì‹¤í–‰ë¨.
- íŠ¹íˆ VS Code ê°™ì€ GUI í™˜ê²½ì—ì„œëŠ” Git ëª…ë ¹ì´ í„°ë¯¸ë„ì„ ê±°ì¹˜ì§€ ì•Šê³  ì§ì ‘ ì‹¤í–‰ë¼.
- ì´ë•Œ Write-Hostë‚˜ echo ë“±ì˜ ì¶œë ¥ì€ ì¶œë ¥ ì°½ìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜ë¨.
- â†’ ê·¸ë˜ì„œ ë„ˆëŠ” VS Code ì•ˆì—ì„œ Git ì»¤ë°‹ì„ í•  ë•Œ Write-Host ë©”ì‹œì§€ê°€ í„°ë¯¸ë„ì´ ì•„ë‹ˆë¼ ì¶œë ¥ì— ëœ¨ëŠ” ê±°ì•¼.


## .gitë³´ê¸°
âŒls
- ```bash
  ls
  ```

Linux
- ```bash
  ls -a
  ```
- ```bash
  ls -al
  ```
  - -a â†’ ìˆ¨ê¹€ í¬í•¨
  - -l â†’ ìì„¸íˆ(long) ë³´ê¸°
  - âœ…Linux
  - âŒPowerShell

PowerShell
- ```ps1
  ls -Force
  ```
- ```ps1
  Get-ChildItem -Force
  ```

##
- ```ps1
  ls -Force
  ```
- ```ps1
  cd .git
  ```
- ```ps1
  cd hooks
  ```
- ```ps1
  Out-File "pre-commit"
  ```
- ```ps1
  code pre-commit
  ```
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"  
  powershell.exe -ExecutionPolicy Bypass -File " ğŸ“„\..."
  git add .
  ```
- ```bash
  #!/bin/bash
  echo "ğŸ“¦ Running SortLineDirectoryRecurse"  
  powershell.exe -ExecutionPolicy Bypass -File "C:\github-nangmanhunter\Powershell\src\SortLineDirectoryRecurse.ps1"
  git add .
  ```



## âŒCRLF
- âœ…LF
- âŒCRLF

Windowsì—ì„œëŠ” ê¸°ë³¸ì´ CRLFì¸ë°, Gitì€ LFë§Œ í—ˆìš©í•¨.
pre-commit íŒŒì¼ ì—´ê¸°
ìš°ì¸¡ ì•„ë˜ì— CRLF â†’ ëˆŒëŸ¬ì„œ LFë¡œ ë³€ê²½
ì €ì¥ (Ctrl + S)


## âŒUTF-8 with BOM
- âŒUTF-8 with BOM
- âœ…UTF-8
í•˜ë‹¨
ã„´í´ë¦­
ã„´ì¸ì½”ë”©í•˜ì—¬ì €ì¥
ã„´UTF-8
ã„´ì €ì¥


##
- í„°ë¯¸ë„ì¢…ë£Œ
  - âŒíŒŒì¼ì¸ì‹
  - ì¬ì‹¤í–‰ìš”í•¨
- Ctrl+`
- GitBash  
- ```bash
  chmod +x .git/hooks/pre-commit
  ```

ê¶Œí•œì€
ã„´í•„ìš”ì—†ì„ë“¯í•œë°.


í™•ì‹¤í•œê±´.
ã„´ì„¸íŒ…ë¬¸ì œ.
ã„´í˜¸í™˜ë¬¸ì œ.
ã„´ì–¸ì–´ë¬¸ì œ.
âœ…UTF-8
- âŒUTF-8 with BOM
âœ…LF
- âŒCRLF